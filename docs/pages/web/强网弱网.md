# 强网弱网

强网和弱网是用来描述网络连接质量的术语。

强网通常指的是网络连接质量良好，速度快且稳定的网络环境。在强网环境下，用户可以快速加载网页、流畅地观看视频、进行实时通信等网络活动，用户体验比较好。

弱网则指的是网络连接质量较差，速度慢或不稳定的网络环境。在弱网环境下，网络活动可能会受到延迟、卡顿、加载缓慢等问题的影响，用户体验较差。

网络连接质量的好坏可以受到多种因素影响，包括但不限于网络带宽、信号强度、网络拥塞、设备性能等等。强网和弱网的判断标准可能因地区、运营商、网络类型等而有所不同。

了解网络连接质量的情况对于开发网页、应用程序和在线服务非常重要，因为它可以帮助我们根据用户的网络环境做出相应的优化和调整，以提供更好的用户体验。

## 浏览器中区分强网弱网

在浏览器中判断强网和弱网的方式有多种，以下是其中几种常见的方式：

### 1、使用 `navigator.connection` API：

可以通过 `navigator.connection` API 获取到网络连接的相关信息，如 `downlink`（下载速度）、`rtt`（往返时延）等。根据这些指标可以判断网络连接的质量，比如判断下载速度是否达到一定阈值来判断强网或弱网。

`navigator.connection` 是一个提供有关设备当前网络连接的接口，它包含了一些属性来描述网络连接的状态和性能。

以下是 `navigator.connection` 接口的一些常用属性：

1. `navigator.connection.type`：表示网络连接的类型，返回一个字符串。可能的取值有 "bluetooth"、"cellular"、"ethernet"、"none"、"wifi" 和 "wimax"。例如，如果当前网络连接是 Wi-Fi，则 `navigator.connection.type` 的值为 "wifi"。

2. `navigator.connection.downlink`：表示设备当前的网络连接速度，以 Mbps 为单位。这个属性返回一个浮点数，表示下载速度的估计值。较高的下载速度通常表示较好的网络连接质量。

3. `navigator.connection.rtt`：表示设备当前的往返时延（Round-Trip Time），以毫秒为单位。这个属性返回一个整数，表示往返时延的估计值。较低的往返时延通常表示较好的网络连接质量。

4. `navigator.connection.effectiveType`：表示设备当前的网络连接类型的有效类型。返回一个字符串，可能的取值有 "slow-2g"、"2g"、"3g"、"4g" 和 "5g"。这个属性可以用来判断网络连接的质量，例如 "slow-2g" 表示较慢的 2G 连接，而 "4g" 表示较快的 4G 连接。

请注意，`navigator.connection` 接口的兼容性可能因浏览器和设备的不同而有所差异。在使用这些属性时，请务必进行兼容性测试和降级处理。

希望这些信息能够帮助您理解和使用 `navigator.connection` 接口！

### 2、使用 `navigator.onLine` 属性：

`navigator.onLine` 属性返回一个布尔值，表示用户当前是否处于在线状态。如果为 `true`，则表示用户在线，可以认为是强网；如果为 `false`，则表示用户离线，可以认为是弱网。

:::warning 警告
`navigator.onLine` 只会在机器未连接到局域网或路由器时返回 `false`，其他情况下均返回 `true` 。也就是说，机器连接上路由器后，即使这个路由器没联通网络，`navigator.onLine` 仍然返回 `true`
:::

### 3、使用网络请求的响应时间：

可以通过发送一个简单的网络请求，然后计算请求的响应时间来判断网络连接的质量。如果响应时间很短，可以认为是强网；如果响应时间较长，可以认为是弱网。

请注意，这些方法都有一定的局限性和兼容性问题，并且在不同的网络环境和设备上可能会有不同的结果。因此，在实际应用中，需要根据具体情况选择合适的方法，并进行兼容性测试和降级处理。
